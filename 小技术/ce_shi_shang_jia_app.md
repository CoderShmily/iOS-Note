# 测试 上架App




## 审核不通过常见问题

内容含敏感话题或对苹果不友好的信息（如苹果婊）

使用了友盟的统计SDK，获取了IDFA但是上传填写无广告

采用友盟IDFA的sdk，并用友盟的默认淘宝页面广告，被告知和产品内容不符（最近）

App在itunes中和安装后显示不一致（最近）

App内有检测更新（最近）

在审核半夜被发小广告

自己的账号体系限制只要求输入邮箱

没有帮助注册用户默认性别和头像（不支持跳过）

App没有自己的账号体系，只采用了第三方登陆

上传苹果时一个非必填的隐私条款的URL未填

付费购买项目没有恢复购买功能

UGC产品没有举报功能

1号大坑：检测更新

苏立：第5点，我看到有些app还是在app内有检测更新，他们是如何做到的？

闫国荣：检测更新这个本来是标配功能，但是在3月开始以来的审核中要求不能加入。你们看到的很多支持检测更新是之前的版本，现在上架的新产品严格控制这条，当然啦，现在更新版本有一部分漏网之鱼。

抽屉：检测更新连TestFlight都会被拒绝。

苏立：我知道一个app叫限时免费大全，因为检测更新问题被苹果限制，最后他们无奈，只好上了一个改名后的新app。

闫国荣：可以取消更新吧，反正iOS系统大部分用户默认自动更新。你向苹果提交版本appstore显示提示更新，还有我写的这条。

2号大坑：和系统接近的图标效果

Kun：生活日历之前标志用了一年多，直到苹果推出通知中心以后，说我们的标志和他们像就被打回了，改了很多版本，颜色图形各种改都不给过，最后直接换了一个标志；另外app推荐也不能用，一般用服务器控制，通过后再上；安卓的字眼不能有&hellip;…

3号大坑：使用QQ登录会进入引导下载QQ页面，结果被苹果退回审核

治愈猫：补充我们遇到的一种情况，我们用了QQ第三方登陆，如果用户没有安装QQ的话，使用QQ登录会进入引导下载QQ页面，结果被苹果退回审核。

闫国荣：糗百有这个问题，在没安装正常版本QQ情况下，不提供web qq登录，但是一直顺利上线。

Aaron：注册时不能获取邮箱和生日吗？

闫国荣：注册的时候，账号格式不要只限定邮箱，可以是其他格式，如果限定死，就会被拒。

抽屉：如果只提供手机号注册会怎样？

闫国荣：手机号注册没有问题。条款17.2好像写的是不能获取生日和邮箱，没写手机，所以不在管辖范围。

4号大坑：广告原因导致被拒

柴Crystal：上周提交一款产品，里面有广告代码，但是没有显示广告，也被退回了。

闫国荣：恩，因为你们可能调用了它的IDFA的相关东西。就算没广告的展现，但是苹果也发现你们调用了，就会说你们有广告。

接着说友盟的问题：友盟为了逃避苹果的审核，在后台默认做了一个淘宝的全屏广告，不过在3月之前都可以过，但在3月之后，苹果也要拒，因为很多产品和淘宝的广告不符合。比如我是糗百，弹出一个淘宝广告，苹果也会拒绝。所以一般有两种做法：

①采用友盟的无IDFA的sdk，不过无IDFA的sdk对统计会有误差。

②自己做个banner广告，审核过了后台修改参数，隐藏。

5号大坑：出现第三方操作系统的名字或图标

第三方操作系统的图标或者名字，不能出现在应用内。例如出现Android的图标关键字被拒，这个遇到过么？

闫国荣：你的app截图也最好不用android手机壳子，android的也不要用iphone状态栏。在各个市场，都不允许出现对方系统的东西，我们android之前偷懒，用了iOS宣传图，也被android市场拒绝过，因为状态栏是iOS的。

Kun：产品描述中提到安卓，就被拒了。

张涛Soloer：上传应用截图时，如果是上传百度市场，截图状态栏能看到应用宝图标，会被拒绝的。iOS版本，做了一个付费版，和原有版本策略不同，但是appstore拒绝了，理由是和旧有版本功能一致其实，竞品都是那么做的，已经上线了。这是我遇到的两种情况。

6号大坑：注册登录，性别和头像非必填

闫国荣：“没 有帮注册用户默认性别和头像（不支持跳过）“，这个问题不知道你们遇到过没，我才遇到的，略坑。和苹果交流了很多次，最后屈服了。注册的时候现在多数 app是必须用户完成头像、性别信息的。60%都不可以跳过，但是我们这次审核的时候，不行了。苹果要求性别和头像都可以非必填，大家最近上架的要注意这 条，当然审核员尺度不一样，很难说。

抽屉：这是什么意思？就是在注册时用户可以skip填写用户名和头像的部分？

Aaron：我们现在的产品还没有头像，下一版本就会加。

7号大坑：软硬件结合的产品，一定要拍摄视频或者寄送硬件给苹果检测

陈宇强：早年做智能可穿戴设备时，因为需要硬件和软件整合才能使用，苹果以软件无法测试为由拒绝了。后来苹果要求把硬件寄到没过来完成软件的测试。

不知道群里有没有人做智能可穿戴设备，如果有的话上架前提前录制一个硬件和软件联合使用的视频放在优酷，在提交时在备注栏里填上视频链接，否则会悲剧了还不止，苹果可能要求把硬件寄过去，遇到寄硬件的时候就推迟到遥遥无期了。

8号大坑：界面太丑，宣传太过，跟风明显会被拒

界面太丑的情况也有被拒绝过，产品没新意也是被拒的一个原因。

高威煌：太丑真的会被拒么？

Roger：这是真的。

Reggie：宣传图片过度，也会被拒

闫国荣：再说个大家记得不？当年那个bird不是很火么，然后大批类似商家，苹果都拒绝了。我还要说一点，大家注意！我提到我们有写苹果婊被拒，其实有的朋友，写2逼都会被拒，我也试过2逼，苹果不行。还有朋友的产品里面有一个图是竖起中指的，也被拒。

付平非：是的，我们写了逗比、牛逼、绿茶婊，被拒了三次，也是无语了。

9号大坑：内容型 app遇到版权问题，怎么破

Roger：先交代下背景，我这边负责的是视频聚合类的应用，主要是各种美剧、英剧。在第一次提交被打回，原因是应用会出现崩溃的情况，所以在这里提醒大家：在提交苹果审核的时候，一定要做好测试。

潇：crash确实容易被拒，有没有比较好的外包测crashfree率的服务？

苏立：关于crash，有哪位朋友用过腾讯的bugly吗？我只是听说过。

Roger：之后的六次被拒，原因五花八门，不过总结起来就是

①64位兼容②版权问题③版权问题④版权问题……

所以这里我想跟大家主要分享下app内容这块的经验。前面@闫国荣有说到过可以多准备几个开发者账号，这里我是有实际经验的。

潇：版权问题是怎么测试出来的？一个个看么？

Roger：有关版权的问题，其实也是根据审核人员的心情，虽然这样说不太严谨。因为本身是视频聚合类的应用，所以视频播放是核心功能，那么苹果会要求你提供版权方的授权。对于这一点，我们的做法比较取巧，在提交审核时关闭播放功能。

另 外，之前菠萝视频的做法也是可以借鉴的，提交审核时用内嵌的web页。但是我们关闭播放功能后提交，还是因为版权问题被打回，在反馈信息中的截图显示，我 们使用了热门剧集的官方海报，因此在这里也要建议大家，在选取截图的时候，尽量避免使用有版权隐患的图片，这次被拒后我们更换了全部剧集的海报图

潇：我想了解下，音乐类会遇到版权原因被拒问题么？

Ken：音乐类是有版权问题的，我们的应用，开源的BBC也要；硬件类要么有视频，要么深圳也有那苹果团队帮忙审核。

10号大坑：支付、文案等问题导致被拒

王越：有因为支付问题的么？必须要用苹果的支付渠道

张涛：我们的app只用苹果的支付渠道，别的支付使用了，怕被拒，就没有用，但是又看到竞品使用别的web支付的，已上架。

一熊一浮云：我也说说我们被拒的情况（括号是解决办法）：

①因为应用里面一个活动文案里面奖品是iphone（改文案，声明与苹果公司无关）

②重新提交后又因为活动的图表像iphone（改图标）

③内嵌彩票应用因为没有销售许可（提交时隐藏应用，通过后恢复）

④内嵌公益捐赠应用（提交时隐藏，通过后恢复或者链接跳转到浏览器使用）

闫国荣：还有听说iOS写的不对被拒，各种要小心，i小写，OS大写！

陈沉沉：我们是一个手游社区，当时在描述中提到“礼包“，被拒。

Roger：“礼包“在苹果认为是积分墙。

闫国荣：所以奖励、抽奖等都要宣布和苹果无关。

上架心得1：如何利用企业账户做内测，多备一些个人开发者账户

Roger：企业账户有企业账户的作用，不过个人账户当然多几个比较好。

潇：企业账户可以直接打ipa，放服务器下载。

光头：那可以理解为可以通过购买这个，然后放服务器下载做内测。

抽屉：真不建议用这样的企业证书做内测，容易被苹果下架。怎么说呢，苹果官方是不推荐用这个方式来发布测试版本的。反正只要有人投诉你的企业证书用于测试，那么就有被吊销的风险

Roger：之前我们公司另外一个应用上线的时候，也有过因为内容无版权证明被驳回，后来我们更换了应用的名称，用4个不同的账号分时段提交，结果就有一个过了

闫国荣：这个是内测的，本身不上架appstore，只上架一些越狱商店或者放到自己官网下载

Ken：企业证书做内测没什么问题吧？

Roger：1999的企业账号，你在注册时候，需要邓白氏码，同时苹果的客服部门会给你打电话，了解注册的用途

闫国荣：恩，那个1999没问题，公司都需要一个。不过这个不会影响其他版本上架。

潇：他们建议testflight，但体验很不好。我们使用企业账号做内测，个人账号做正式发布

抽屉：在“提示更新“还可以用的时候，我们做过类似的hack，指定一些规则，当用户符合规则提示他去更新新版，新版可能是发布在firim或者TestFlight。

心得2：提交前如何自检

闫国荣：我贴下经验心得：

上线之前查看最新的审核标准，自查

通过社交网络了解最近时间被拒的原因，自查

在上传填写测试账号的表单中可以填写录制产品使用视频的youtube链接，让审核人员了解产品页面跳转情况

被拒之后要继续申诉，试图告诉苹果你没有问题（假装也要这样），因为苹果会除了这个原因给你再查出其他原因

审核过程中严格监督内容，尤其是中心化的产品，遇到小广告容易被苹果发现，拒绝

审核在半夜进行，最好对内容和服务器状态进行好的监督、管理，因为小广告、服务器问题大多发生在半夜

在申诉过程中保持良好的心态和沟通语气，不然吃亏的是你自己（亲身体验）

申诉不一定用英文沟通，可以直接用中文沟通

